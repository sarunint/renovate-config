{
  "name": "@sarunint/renovate-config",
  "version": "7.0.0",
  "description": "Renovate configuration presets for SarunInt",
  "author": "Sarun Intaralawan <sarunint@sarunint.com>",
  "license": "MIT",
  "renovate-config": {
    "base": {
      "extends": [
        "config:base"
      ],
      "prHourlyLimit": 0,
      "prConcurrentLimit": 0,
      "rebaseStalePrs": true,
      "lockFileMaintenance": {
        "enabled": true,
        "schedule": "after 1pm before 10pm on Friday, Saturday, Sunday",
        "automerge": true,
        "requiredStatusChecks": null
      },
      "masterIssue": true,
      "packageRules": [
        {
          "packageNames": [
            "@types/node"
          ],
          "major": {
            "enabled": true
          },
          "allowedVersions": "< 17"
        },
        {
          "packageNames": [
            "jest",
            "ts-jest"
          ],
          "groupName": "Jest packages"
        },
        {
          "matchPackageNames": [
            "node"
          ],
          "matchManagers": [
            "gitlabci"
          ],
          "enabled": false
        }
      ]
    },
    "nestjs": {
      "extends": [
        "@sarunint:base"
      ]
    },
    "angular-v13": {
      "extends": [
        "@sarunint:base"
      ],
      "packageRules": [
        {
          "packageNames": [
            "typescript"
          ],
          "allowedVersions": "< 4.7"
        },
        {
          "extends": [
            "monorepo:angularcli",
            "monorepo:angular"
          ],
          "allowedVersions": "< 14.0.0",
          "separateMajorMinor": false,
          "groupName": "Angular and Angular CLI packages"
        },
        {
          "packageNames": [
            "@angular/core",
            "@angular/cli"
          ],
          "updateTypes": [
            "major",
            "minor",
            "patch"
          ],
          "postUpgradeTasks": {
            "commands": [
              "npm ci --ignore-scripts",
              "npx ng update {{{depName}}} --from={{{currentVersion}}} --to={{{newVersion}}} --migrate-only --allow-dirty --force"
            ],
            "fileFilters": [
              "**/**"
            ]
          }
        },
        {
          "packageNames": [
            "rxjs"
          ],
          "allowedVersions": "< 8.0.0"
        }
      ]
    },
    "angular-v14": {
      "extends": [
        "@sarunint:base"
      ],
      "packageRules": [
        {
          "packageNames": [
            "typescript"
          ],
          "allowedVersions": "< 4.8"
        },
        {
          "extends": [
            "monorepo:angularcli",
            "monorepo:angular"
          ],
          "allowedVersions": "< 15.0.0",
          "separateMajorMinor": false,
          "groupName": "Angular and Angular CLI packages"
        },
        {
          "packageNames": [
            "@angular/core",
            "@angular/cli"
          ],
          "updateTypes": [
            "major",
            "minor",
            "patch"
          ],
          "postUpgradeTasks": {
            "commands": [
              "npm ci --ignore-scripts",
              "npx ng update {{{depName}}} --from={{{currentVersion}}} --to={{{newVersion}}} --migrate-only --allow-dirty --force"
            ],
            "fileFilters": [
              "**/**"
            ]
          }
        },
        {
          "packageNames": [
            "rxjs"
          ],
          "allowedVersions": "< 8.0.0"
        }
      ]
    }
  }
}
